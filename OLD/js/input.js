window.Input=(function(){const LS='controls.v1';const defs={global:{PAUSE:'p'},pong:{P1_UP:'w',P1_DOWN:'s',P2_UP:'ArrowUp',P2_DOWN:'ArrowDown',LAUNCH:' '},tetris:{LEFT:'ArrowLeft',RIGHT:'ArrowRight',DOWN:'ArrowDown',ROTATE:'ArrowUp',HOLD:'c',DROP:' ',PAUSE:'p'},snake:{LEFT:'ArrowLeft',RIGHT:'ArrowRight',UP:'ArrowUp',DOWN:'ArrowDown',PAUSE:'p'},breakout:{LEFT:'ArrowLeft',RIGHT:'ArrowRight',LAUNCH:' ',PAUSE:'p'},chess:{PAUSE:'p'},g2048:{LEFT:'ArrowLeft',RIGHT:'ArrowRight',UP:'ArrowUp',DOWN:'ArrowDown',PAUSE:'p'}};let cfg=JSON.parse(localStorage.getItem(LS)||'null')||defs;function save(){localStorage.setItem(LS,JSON.stringify(cfg));}return {get config(){return cfg;},setKey:(p,a,k)=>{cfg[p][a]=k;save();},reset:()=>{cfg=JSON.parse(JSON.stringify(defs));save();}}})();